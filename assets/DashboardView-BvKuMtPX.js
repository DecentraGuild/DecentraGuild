import{d as k,c as n,n as $,b as s,m as D,e as i,G as d,t as a,p as N,o,_ as b,k as w,l as z,q as O,h,s as U,x as I,r as y,i as H,u as E,w as V}from"./index-BeuoTTqk.js";import{g as q}from"./mockData-CJpti3Qa.js";const F={class:"card-header"},J={class:"header-content"},L={class:"card-title"},B={key:0,class:"card-actions"},G={class:"card-content"},R=k({__name:"DashboardCard",props:{title:{},icon:{},variant:{default:"primary"}},setup(g){return(l,r)=>(o(),n("div",{class:$(["dashboard-card",`variant-${l.variant}`])},[s("div",F,[s("div",J,[i(d,{icon:l.icon,size:"md",variant:l.variant},null,8,["icon","variant"]),s("h3",L,a(l.title),1)]),l.$slots.actions?(o(),n("div",B,[N(l.$slots,"actions",{},void 0)])):D("",!0)]),s("div",G,[N(l.$slots,"default",{},void 0)])],2))}}),T=b(R,[["__scopeId","data-v-cf685993"]]),P={class:"token-holdings"},W={key:0,class:"empty-state"},x={key:1,class:"tokens-list"},K={class:"token-info"},X={class:"token-icon"},Q={class:"token-details"},Y={class:"token-name"},Z={class:"token-symbol"},ss={class:"token-balance"},es={class:"balance-amount"},ts={key:0,class:"balance-value"},ns=k({__name:"TokenHoldings",props:{tokens:{}},setup(g){const l=r=>r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toFixed(2);return(r,c)=>(o(),n("div",P,[r.tokens.length===0?(o(),n("div",W,[i(d,{icon:"game-icons:question-mark",size:"md",variant:"secondary"}),c[0]||(c[0]=s("p",null,"No tokens found",-1))])):(o(),n("div",x,[(o(!0),n(w,null,z(r.tokens,t=>(o(),n("div",{key:t.id,class:"token-item"},[s("div",K,[s("div",X,[i(d,{icon:t.icon,size:"sm",variant:"success"},null,8,["icon"])]),s("div",Q,[s("h4",Y,a(t.name),1),s("p",Z,a(t.symbol),1)])]),s("div",ss,[s("span",es,a(l(t.balance)),1),t.value?(o(),n("span",ts," â‰ˆ $"+a(l(t.value)),1)):D("",!0)])]))),128))]))]))}}),os=b(ns,[["__scopeId","data-v-7afef97f"]]),as={class:"ongoing-jobs"},is={key:0,class:"empty-state"},cs={key:1,class:"jobs-list"},rs={class:"job-header"},ds={class:"job-info"},ls={class:"job-title"},_s={class:"job-category"},us={class:"job-details"},vs={class:"job-reward"},ms={class:"job-progress"},hs={class:"progress-bar"},ps={class:"progress-text"},gs={class:"job-meta"},$s={class:"job-deadline"},ys=k({__name:"OngoingJobs",props:{jobs:{}},setup(g){const l=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(r,c)=>(o(),n("div",as,[r.jobs.length===0?(o(),n("div",is,[i(d,{icon:"game-icons:question-mark",size:"md",variant:"secondary"}),c[0]||(c[0]=s("p",null,"No ongoing jobs",-1))])):(o(),n("div",cs,[(o(!0),n(w,null,z(r.jobs,t=>(o(),n("div",{key:t.id,class:"job-item"},[s("div",rs,[s("div",ds,[s("h4",ls,a(t.title),1),s("p",_s,a(t.category),1)]),s("div",{class:$(["job-status",`status-${t.status}`])},a(t.status),3)]),s("div",us,[s("div",vs,[i(d,{icon:"game-icons:coin",size:"sm",variant:"accent"}),s("span",null,a(t.reward)+" "+a(t.rewardToken),1)]),s("div",ms,[s("div",hs,[s("div",{class:"progress-fill",style:O({width:`${t.progress}%`})},null,4)]),s("span",ps,a(t.progress)+"%",1)])]),s("div",gs,[s("span",$s,[i(d,{icon:"game-icons:clock",size:"sm",variant:"secondary"}),h(" Due: "+a(l(t.deadline)),1)])])]))),128))]))]))}}),fs=b(ys,[["__scopeId","data-v-795208ab"]]),ks={class:"recent-achievements"},bs={key:0,class:"empty-state"},Ds={key:1,class:"achievements-list"},ws={class:"achievement-icon"},zs={class:"achievement-content"},Vs={class:"achievement-header"},Ts={class:"achievement-name"},As={class:"achievement-description"},Ms={class:"achievement-meta"},Us={class:"achievement-date"},Ss={key:0,class:"achievement-points"},js=k({__name:"RecentAchievements",props:{achievements:{}},setup(g){const l=c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric"}),r=c=>{switch(c){case"common":return"secondary";case"rare":return"primary";case"epic":return"accent";case"legendary":return"warning";default:return"secondary"}};return(c,t)=>(o(),n("div",ks,[c.achievements.length===0?(o(),n("div",bs,[i(d,{icon:"game-icons:question-mark",size:"md",variant:"secondary"}),t[0]||(t[0]=s("p",null,"No recent achievements",-1))])):(o(),n("div",Ds,[(o(!0),n(w,null,z(c.achievements,e=>(o(),n("div",{key:e.id,class:$(["achievement-item",{rare:e.rarity==="rare",epic:e.rarity==="epic"}])},[s("div",ws,[i(d,{icon:e.icon,size:"md",variant:r(e.rarity)},null,8,["icon","variant"])]),s("div",zs,[s("div",Vs,[s("h4",Ts,a(e.name),1),s("div",{class:$(["achievement-rarity",`rarity-${e.rarity}`])},a(e.rarity),3)]),s("p",As,a(e.description),1),s("div",Ms,[s("span",Us,[i(d,{icon:"game-icons:calendar",size:"sm",variant:"secondary"}),h(" "+a(l(e.date)),1)]),e.points?(o(),n("span",Ss,[i(d,{icon:"game-icons:star",size:"sm",variant:"accent"}),h(" +"+a(e.points)+" XP ",1)])):D("",!0)])])],2))),128))]))]))}}),Cs=b(js,[["__scopeId","data-v-49b63a56"]]),Ns={class:"upcoming-events"},Os={key:0,class:"empty-state"},Is={key:1,class:"events-list"},Hs={class:"event-date"},Es={class:"date-day"},qs={class:"date-month"},Fs={class:"event-content"},Js={class:"event-header"},Ls={class:"event-title"},Bs={class:"event-description"},Gs={class:"event-meta"},Rs={class:"event-time"},Ps={key:0,class:"event-participants"},Ws=k({__name:"UpcomingEvents",props:{events:{}},setup(g){const l=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),r=e=>new Date(e).getDate().toString(),c=e=>new Date(e).toLocaleDateString("en-US",{month:"short"}),t=e=>{const _=new Date(e),u=new Date,v=(_.getTime()-u.getTime())/(1e3*60*60);return v<=24&&v>0};return(e,_)=>(o(),n("div",Ns,[e.events.length===0?(o(),n("div",Os,[i(d,{icon:"game-icons:question-mark",size:"md",variant:"secondary"}),_[0]||(_[0]=s("p",null,"No upcoming events",-1))])):(o(),n("div",Is,[(o(!0),n(w,null,z(e.events,u=>(o(),n("div",{key:u.id,class:$(["event-item",{urgent:t(u.date)}])},[s("div",Hs,[s("div",Es,a(r(u.date)),1),s("div",qs,a(c(u.date)),1)]),s("div",Fs,[s("div",Js,[s("h4",Ls,a(u.title),1),s("div",{class:$(["event-type",`type-${u.type}`])},a(u.type),3)]),s("p",Bs,a(u.description),1),s("div",Gs,[s("span",Rs,[i(d,{icon:"game-icons:clock",size:"sm",variant:"secondary"}),h(" "+a(l(u.date)),1)]),u.participants?(o(),n("span",Ps,[i(d,{icon:"game-icons:multiple-users",size:"sm",variant:"primary"}),h(" "+a(u.participants)+" participants ",1)])):D("",!0)])])],2))),128))]))]))}}),xs=b(Ws,[["__scopeId","data-v-60f9fb35"]]),Ks={class:"message-board"},Xs={key:0,class:"empty-state"},Qs={key:1,class:"messages-list"},Ys={class:"message-header"},Zs={class:"message-author"},se={class:"author-avatar"},ee={class:"author-info"},te={class:"author-name"},ne={class:"author-role"},oe={class:"message-meta"},ae={class:"message-time"},ie={class:"message-badges"},ce={key:0,class:"badge pinned"},re={key:1,class:"badge urgent"},de={class:"message-content"},le={class:"message-title"},_e={class:"message-text"},ue={key:0,class:"message-actions"},ve=["onClick"],me=k({__name:"MessageBoard",props:{messages:{}},setup(g){const l=c=>{const t=new Date(c),_=(new Date().getTime()-t.getTime())/(1e3*60*60);return _<1?"Just now":_<24?`${Math.floor(_)}h ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},r=c=>{};return(c,t)=>(o(),n("div",Ks,[c.messages.length===0?(o(),n("div",Xs,[i(d,{icon:"game-icons:question-mark",size:"md",variant:"secondary"}),t[0]||(t[0]=s("p",null,"No messages yet",-1))])):(o(),n("div",Qs,[(o(!0),n(w,null,z(c.messages,e=>(o(),n("div",{key:e.id,class:$(["message-item",{pinned:e.pinned,urgent:e.urgent}])},[s("div",Ys,[s("div",Zs,[s("div",se,[i(d,{icon:e.author.icon,size:"sm",variant:"primary"},null,8,["icon"])]),s("div",ee,[s("h4",te,a(e.author.name),1),s("span",ne,a(e.author.role),1)])]),s("div",oe,[s("span",ae,a(l(e.timestamp)),1),s("div",ie,[e.pinned?(o(),n("span",ce,[i(d,{icon:"game-icons:pin",size:"sm",variant:"accent"}),t[1]||(t[1]=h(" Pinned ",-1))])):D("",!0),e.urgent?(o(),n("span",re,[i(d,{icon:"game-icons:warning",size:"sm",variant:"danger"}),t[2]||(t[2]=h(" Urgent ",-1))])):D("",!0)])])]),s("div",de,[s("h3",le,a(e.title),1),s("p",_e,a(e.content),1)]),e.actions?(o(),n("div",ue,[(o(!0),n(w,null,z(e.actions,_=>(o(),n("button",{key:_.id,class:$(["action-button",`action-${_.type}`]),onClick:u=>r()},[i(d,{icon:_.icon,size:"sm",variant:_.variant},null,8,["icon","variant"]),h(" "+a(_.label),1)],10,ve))),128))])):D("",!0)],2))),128))]))]))}}),he=b(me,[["__scopeId","data-v-22c54c52"]]),pe={class:"ongoing-dao-votes"},ge={key:0,class:"empty-state"},$e={key:1,class:"votes-list"},ye={class:"vote-header"},fe={class:"vote-title"},ke={class:"vote-description"},be={class:"vote-meta"},De={class:"vote-creator"},we={class:"vote-deadline"},ze={class:"vote-progress"},Ve={class:"progress-bar"},Te={class:"vote-stats"},Ae={class:"votes-for"},Me={class:"votes-against"},Ue={class:"total-votes"},Se={class:"vote-actions"},je=k({__name:"OngoingDAOVotes",props:{votes:{}},setup(g){const l=g,r=I(),c=U(()=>l.votes||[]),t=v=>v.totalVotes===0?0:Math.round(v.votesFor/v.totalVotes*100),e=v=>{const p=new Date,S=new Date(v).getTime()-p.getTime(),f=Math.ceil(S/(1e3*60*60*24));if(f<=0)return"Ended";if(f===1)return"1 day left";if(f<7)return`${f} days left`;const C=Math.ceil(f/7);return`${C} week${C>1?"s":""} left`},_=v=>{const p=new Date,S=new Date(v).getTime()-p.getTime(),f=Math.ceil(S/(1e3*60*60*24));return f<=2&&f>0},u=()=>{r.push("/dapp/dao-voting")};return(v,p)=>(o(),n("div",pe,[c.value.length===0?(o(),n("div",ge,[i(d,{icon:"game-icons:vote",size:"lg",variant:"muted"}),p[0]||(p[0]=s("p",null,"No active votes at the moment",-1))])):(o(),n("div",$e,[(o(!0),n(w,null,z(c.value,m=>(o(),n("div",{key:m.id,class:$(["vote-item",{urgent:_(m.endDate)}])},[s("div",ye,[s("h4",fe,a(m.title),1),s("div",{class:$(["vote-status",m.status])},a(m.status),3)]),s("p",ke,a(m.description),1),s("div",be,[s("div",De,[i(d,{icon:"game-icons:user",size:"sm",variant:"secondary"}),s("span",null,"by "+a(m.creator),1)]),s("div",we,[i(d,{icon:"game-icons:clock",size:"sm",variant:"warning"}),s("span",null,a(e(m.endDate)),1)])]),s("div",ze,[s("div",Ve,[s("div",{class:"progress-fill",style:O({width:t(m)+"%"})},null,4)]),s("div",Te,[s("span",Ae,[i(d,{icon:"game-icons:thumbs-up",size:"sm",variant:"success"}),h(" "+a(m.votesFor),1)]),s("span",Me,[i(d,{icon:"game-icons:thumbs-down",size:"sm",variant:"danger"}),h(" "+a(m.votesAgainst),1)]),s("span",Ue,a(m.totalVotes)+" total ",1)])]),s("div",Se,[s("button",{class:"jump-button",onClick:u},[i(d,{icon:"game-icons:vote",size:"sm",variant:"primary"}),p[1]||(p[1]=h(" Go to Vote ",-1))])])],2))),128))]))]))}}),Ce=b(je,[["__scopeId","data-v-62342b26"]]),j=y(!1),A=y(null),M=y(!1);function Ne(){const g=e=>{A.value=e,j.value=!0},l=()=>{A.value=null,j.value=!1,M.value=!1},r=()=>{M.value=!0},c=()=>{M.value=!1},t=e=>{A.value&&(A.value={...A.value,...e})};return{isAuthenticated:U(()=>j.value),currentUser:U(()=>A.value),walletConnected:U(()=>M.value),login:g,logout:l,connectWallet:r,disconnectWallet:c,updateProfile:t}}const Oe={class:"dashboard-view"},Ie={class:"dashboard-header"},He={class:"dashboard-title"},Ee={class:"dashboard-subtitle"},qe={class:"dashboard-grid"},Fe={class:"dashboard-left"},Je={class:"dashboard-right"},Le=k({__name:"DashboardView",setup(g){I();const{currentUser:l}=Ne(),r=y([]),c=y([]),t=y([]),e=y([]),_=y([]),u=y([]);return H(async()=>{try{const v=await q();r.value=v.tokenHoldings||[],c.value=v.ongoingJobs||[],t.value=v.recentAchievements||[],e.value=v.upcomingEvents||[],_.value=v.guildMessages||[],u.value=v.ongoingDAOVotes||[]}catch{r.value=[],c.value=[],t.value=[],e.value=[],_.value=[],u.value=[]}}),(v,p)=>{var m;return o(),n("div",Oe,[s("div",Ie,[s("h1",He,[i(d,{icon:"game-icons:puzzle",size:"lg",variant:"primary","icon-shape":"none"}),p[0]||(p[0]=h(" Dashboard ",-1))]),s("p",Ee,"Welcome back, "+a(((m=E(l))==null?void 0:m.username)||"Guild Member")+"! Here's what's happening in your guild.",1)]),s("div",qe,[s("div",Fe,[i(T,{title:"Guild Updates",icon:"game-icons:scroll-unfurled",variant:"secondary"},{default:V(()=>[i(he,{messages:_.value},null,8,["messages"])]),_:1}),i(T,{title:"Recent Achievements",icon:"game-icons:trophy",variant:"accent"},{default:V(()=>[i(Cs,{achievements:t.value},null,8,["achievements"])]),_:1}),i(T,{title:"Ongoing DAO Votes",icon:"game-icons:vote",variant:"primary"},{default:V(()=>[i(Ce,{votes:u.value},null,8,["votes"])]),_:1})]),s("div",Je,[i(T,{title:"Ongoing Jobs",icon:"game-icons:target-dummy",variant:"warning"},{default:V(()=>[i(fs,{jobs:c.value},null,8,["jobs"])]),_:1}),i(T,{title:"Upcoming Events",icon:"game-icons:calendar",variant:"primary"},{default:V(()=>[i(xs,{events:e.value},null,8,["events"])]),_:1}),i(T,{title:"Token Holdings",icon:"game-icons:money-stack",variant:"primary"},{default:V(()=>[i(os,{tokens:r.value},null,8,["tokens"])]),_:1})])])])}}}),Re=b(Le,[["__scopeId","data-v-2ca67a98"]]);export{Re as default};
