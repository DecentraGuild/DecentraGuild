import{d as R,r,c as l,b as e,e as b,h as m,G as z,k as _,l as k,t as i,q as P,n as C,o as c,_ as E}from"./index-BkdjQiKg.js";const D={class:"raffles-view"},$={class:"view-header"},x={class:"games-grid"},A={class:"card-content"},L={class:"raffle-image"},S=["src","alt"],q={class:"game-title"},B={class:"game-description"},M={class:"raffle-prize"},V={class:"prize-value"},Z={class:"raffle-progress"},N={class:"progress-info"},F={class:"progress-bar"},G={class:"raffle-details"},j={class:"detail-item"},I={class:"detail-item"},Q={class:"card-actions"},W={class:"ticket-selector"},H=["onClick"],U={class:"ticket-qty"},J=["onClick"],K=["onClick"],O={class:"recent-activity"},X={class:"activity-list"},Y={class:"activity-info"},ee={class:"activity-description"},te={class:"activity-time"},se=R({__name:"RafflesView",setup(ie){const o=r({1:1,2:1}),p=r([{id:"1",title:"Legendary Ship Giveaway",description:"Win an exclusive legendary battleship worth 10,000 ATLAS!",prize:"Legendary Battleship NFT",ticketPrice:50,totalTickets:200,soldTickets:130,endDate:"2024-01-28T23:59:59Z",rewardImage:"/dapp/pearcer6.jpg"},{id:"2",title:"Monthly Token Drop",description:"Monthly raffle for a chance to win 5,000 REP tokens.",prize:"5,000 REP Tokens",ticketPrice:50,totalTickets:200,soldTickets:64,endDate:"2024-01-30T23:59:59Z",rewardImage:"/dapp/maxhog.jpg"}]),g=r([{id:"1",game:"raffle",player:"LuckyWinner",result:"win",reward:5e3,timestamp:"2024-01-20T15:30:00Z"},{id:"2",game:"raffle",player:"RaffleFan",result:"loss",reward:0,timestamp:"2024-01-20T14:45:00Z"},{id:"3",game:"raffle",player:"TokenHunter",result:"win",reward:2500,timestamp:"2024-01-20T14:20:00Z"}]),d=n=>o.value[n]||1,h=n=>{o.value[n]<10&&o.value[n]++},T=n=>{o.value[n]>1&&o.value[n]--},y=n=>{const s=p.value.find(a=>a.id===n),t=d(n);s&&(s.soldTickets+=t)},w=n=>{const s=new Date,a=new Date(n).getTime()-s.getTime();if(a<=0)return"Ended";const u=Math.floor(a/(1e3*60*60*24)),v=Math.floor(a%(1e3*60*60*24)/(1e3*60*60));return u>0?`in ${u}d ${v}h`:`in ${v}h`},f=n=>new Date(n).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(n,s)=>(c(),l("div",D,[e("div",$,[e("h1",null,[b(z,{icon:"game-icons:lottery",size:"lg",variant:"primary","icon-shape":"none"}),s[0]||(s[0]=m(" Active Raffles ",-1))]),s[1]||(s[1]=e("p",null,"Participate in exciting raffles and win amazing prizes",-1))]),s[8]||(s[8]=e("div",{class:"section-header"},[e("h3",null,"🎫 Active Raffles"),e("button",{class:"create-btn"},"Create Raffle")],-1)),e("div",x,[(c(!0),l(_,null,k(p.value,t=>(c(),l("div",{key:t.id,class:"game-card raffle"},[s[5]||(s[5]=e("div",{class:"card-header"},[e("div",{class:"game-type"},"🎫 Raffle"),e("div",{class:"game-status active"},"Active")],-1)),e("div",A,[e("div",L,[e("img",{src:t.rewardImage,alt:t.title,class:"reward-image"},null,8,S)]),e("h4",q,i(t.title),1),e("p",B,i(t.description),1),e("div",M,[s[2]||(s[2]=e("span",{class:"prize-label"},"Prize:",-1)),e("span",V,i(t.prize),1)]),e("div",Z,[e("div",N,[e("span",null,i(t.soldTickets)+"/"+i(t.totalTickets)+" tickets sold",1),e("span",null,i(Math.round(t.soldTickets/t.totalTickets*100))+"%",1)]),e("div",F,[e("div",{class:"progress-fill",style:P({width:`${t.soldTickets/t.totalTickets*100}%`})},null,4)])]),e("div",G,[e("div",j,[s[3]||(s[3]=e("span",{class:"detail-icon"},"💰",-1)),e("span",null,i(t.ticketPrice)+" REP per ticket",1)]),e("div",I,[s[4]||(s[4]=e("span",{class:"detail-icon"},"⏰",-1)),e("span",null,"Ends "+i(w(t.endDate)),1)])])]),e("div",Q,[e("div",W,[e("button",{onClick:a=>T(t.id),class:"qty-btn"},"-",8,H),e("span",U,i(d(t.id)),1),e("button",{onClick:a=>h(t.id),class:"qty-btn"},"+",8,J)]),e("button",{onClick:a=>y(t.id),class:"buy-btn"}," Buy Tickets ("+i(d(t.id)*t.ticketPrice)+" REP) ",9,K)])]))),128))]),e("div",O,[s[7]||(s[7]=e("div",{class:"section-header"},[e("h3",null,"🎮 Recent Raffle Activity")],-1)),e("div",X,[(c(!0),l(_,null,k(g.value,t=>(c(),l("div",{key:t.id,class:"activity-item"},[s[6]||(s[6]=e("div",{class:"activity-icon raffle"}," 🎫 ",-1)),e("div",Y,[e("div",ee,[e("strong",null,i(t.player),1),m(" "+i(t.result==="win"?"won":"participated in")+" raffle "+i(t.reward?`and earned ${t.reward} REP`:""),1)]),e("div",te,i(f(t.timestamp)),1)]),e("div",{class:C(["activity-result",t.result])},i(t.result==="win"?"+":"")+i(t.reward||0)+" REP ",3)]))),128))])])]))}}),ae=E(se,[["__scopeId","data-v-29d4d142"]]);export{ae as default};
